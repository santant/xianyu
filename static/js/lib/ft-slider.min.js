!function(){function t(t){this.init(t),this.restore=this.reset}var e={width:280,height:34,textMsg:"请按住滑块，拖动到最右边",successMsg:"验证成功",callback:function(t){}};t.prototype={init:function(t){this.opts=this.extend(e,t),this.render()},render:function(){this.ele=document.getElementById(this.opts.id);var t='<div class="ft-slider-content lock">'+this.opts.textMsg+'</div><div class="ft-slider-bar" style="transform:translate3d(0,0,0);"></div><div class="ft-slider-bg"></div>',e=document.createElement("div");e.className="ft-slider",e.innerHTML=t,this.ele.appendChild(e),this.setOptions(),this.drag()},setOptions:function(){var t=this.ele.getElementsByClassName("ft-slider")[0],e=t.getElementsByClassName("ft-slider-bar")[0],s=this.opts,i=s.width,n=s.height;t.style.width=i+"px",t.style.height=n+"px",t.style.lineHeight=n+"px",e.style.width=n+"px",e.style.height=n+"px"},reset:function(){var t=this.opts,e=this.ele.getElementsByClassName("ft-slider")[0],s=e.getElementsByClassName("ft-slider-bar")[0],i=e.getElementsByClassName("ft-slider-content")[0],n=e.getElementsByClassName("ft-slider-bg")[0];i.className="ft-slider-content lock",s.style.transform="translate3d(0,0,0)",n.style.width=0,s.className="ft-slider-bar transition",i.textContent=t.textMsg},drag:function(){var t=this.ele.getElementsByClassName("ft-slider-bar")[0];this.isDrag=!1,this.start(t),this.move(t),this.end(t)},start:function(t){var e=this,s=this.ele.getElementsByClassName("ft-slider-bg")[0];t.addEventListener("touchstart",function(t){this.className="ft-slider-bar",s.className="ft-slider-bg",e.isDrag=!0,e.strartX=t.touches[0].clientX,t.preventDefault()},!1)},move:function(t){if(!this.isDrag){var e=this,s=this.ele.getElementsByClassName("ft-slider-bg")[0];t.addEventListener("touchmove",function(t){var i=t.touches[0].clientX-e.strartX,n=e.opts.width-e.opts.height;i=i>n?n:i,this.style.transform="translate3d("+i+"px,0,0)",s.style.width=i+"px",t.preventDefault()},!1)}},end:function(t){if(!this.isDrag){var e=this,s=this.ele.getElementsByClassName("ft-slider-bg")[0],i=this.ele.getElementsByClassName("ft-slider-content")[0],s=this.ele.getElementsByClassName("ft-slider-bg")[0];t.addEventListener("touchend",function(t){var n=e.opts,a=n.callback,l=t.changedTouches[0].clientX-e.strartX,r=n.width-n.height,d=0,h=!1;l>=r&&(d=r,i.textContent=n.successMsg,this.className=this.className+=" success",i.className="ft-slider-content success",h=!0),this.className=h?"ft-slider-bar success transition":"ft-slider-bar transition",s.className="ft-slider-bg transition",s.style.width=d+"px",this.style.transform="translate3d("+d+"px,0,0)",a&&a(h),t.preventDefault()},!1)}},extend:function(t,e){var s={};if(!e.id)throw"id is required";for(var i=0;i<arguments.length;i++)for(option in arguments[i])s[option]=arguments[i][option];return s},getTranslateX:function(t){return parseInt(t.match(/-?\d+(?=px)/g)[0])}},window.FtSlider=t}();